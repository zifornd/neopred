nextflow_process {

    name "Test Process TX2GENE"
    script "modules/local/tx2gene/main.nf"
    process "TX2GENE"

    test("Should run without failures") {

        when {
            process {
                """
                // define inputs of the process here. Example:

		 input[0] = Channel.fromPath("$projectDir/tests/test_result/tx2gene/quants/SRR8281226")
		 //input[0] = Channel.of([['SRR8281243'], file("$projectDir/tests/test_result/tx2gene/quants/")])
                 input[1] = "salmon"
                 input[2] = file("$projectDir/tests/test_result/tx2gene/gencode.v45.primary_assembly_chr6.annotation.gtf")


                """
            }
        }

        then {
            assert process.success
	    assert process.out.tsv
            assert snapshot(process.out)//.match()
        }

    }

}
